<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Last updated: 2025-08-21T18:19:29Z -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JCHAT - Community Guidelines</title>

    <!-- Google Fonts: Poppins for headings, Inter for body text -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Preconnect to Firebase and Cloudinary domains for faster loading -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://*.firebaseio.com" crossorigin>
    <link rel="preconnect" href="https://res.cloudinary.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Tone.js for audio notifications -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>

    <style>
        /* Universal box-sizing for consistent layout */
        *, *::before, *::after {
            box-sizing: border-box;
        }

        /* Global CSS Variables for easy theme switching */
        :root {
            /* Core JCHAT Colors */
            --pink: #ff2e92;
            --blue: #00d5ff;
            --radius: 20px;
            --transition: .3s ease;

            /* Default Dark Mode variables */
            --white: #fff; /* Primary text color */
            --text-light: rgba(255, 255, 255, .7); /* Secondary text color */
            --background-main: rgba(10, 10, 10, .75); /* Main background color */
            --background-gradient-1: #00d5ff; /* Gradient start */
            --background-gradient-2: #ff2e92; /* Gradient end */
            --card-background: linear-gradient(145deg, rgba(255, 255, 255, .03), rgba(255, 255, 255, .01)); /* Card background with subtle gradient */
            --header-background: linear-gradient(135deg, rgba(10, 10, 10, .85), rgba(10, 10, 10, .75)); /* Header background */
            --border-light: rgba(255, 255, 255, .05); /* Light border color */
            --input-background: rgba(255, 255, 255, 0.05); /* Input field background */
            --button-background-gradient: linear-gradient(90deg, var(--blue), var(--pink)); /* Button gradient */
            --button-shadow: 0 4px 15px var(--blue), 0 4px 15px var(--pink); /* Button shadow */

            /* Semantic Colors (for consistency across themes) */
            --background-color-primary: #1a1a2e; /* Deeper background for sections */
            --background-color-secondary: #0f0f1f; /* Even deeper background */
            --header-background-color: #2a2a4a; /* Header/footer solid background */
            --footer-background-color: #2a2a4a;
            --content-background-color: #20203a; /* Main content card background */
            --card-background-color: #2a2a4a; /* General card background */
            --text-color-primary: #e0e0e0; /* Primary text for content */
            --text-color-secondary: #b0b0d0; /* Secondary text for content */
            --notification-badge-color: #ff2e92; /* Pink for badges */
            --status-online: #4CAF50; /* Green for online status */
            --status-offline: #6c757d; /* Grey for offline status */
            --status-away: #FFC107; /* Yellow for away status */
            --delete-button-color: #dc3545; /* Red for destructive actions */
            --warning-color: #ffc107; /* Orange for warnings */
            --accent-color: #00d5ff; /* Main accent color (blue) */
            --accent-color-dark: #00aaff; /* Darker accent color */
            --border-color: #3a3a5a; /* General border color */
        }

        /* --- Theme Definitions (Light, Dark, Glass, Sunset) --- */
        body.theme-light-mode {
            --background-main: #f0f2f5;
            background-image: none !important; /* Remove gradient for light mode */
            --white: #333;
            --text-light: #666;
            --card-background: rgba(255, 255, 255, 0.95);
            --header-background: rgba(255, 255, 255, 0.98);
            --border-light: rgba(0, 0, 0, 0.1);
            --input-background: rgba(0, 0, 0, 0.05);
            --button-background-gradient: linear-gradient(90deg, #6dd5ed, #2193b0);
            --button-shadow: 0 4px 15px rgba(109, 213, 237, 0.4), 0 4px 15px rgba(33, 147, 176, 0.4);

            --background-color-primary: #f0f2f5;
            --background-color-secondary: #e0e2e5;
            --header-background-color: #ffffff;
            --footer-background-color: #ffffff;
            --content-background-color: #f7f9fb;
            --card-background-color: #ffffff;
            --text-color-primary: #333333;
            --text-color-secondary: #666666;
            --accent-color: #007bff;
            --accent-color-dark: #0056b3;
            --border-color: #e0e0e0;
            --input-background-color: #f0f0f0;
            --button-background: #e9ecef;
            --button-hover-background: #dee2e6;
            --active-item-background: rgba(0, 123, 255, 0.1);
            --notification-badge-color: #dc3545;
            --status-online: #28a745;
            --status-offline: #6c757d;
            --status-away: #ffc107;
            --delete-button-color: #dc3545;
            --warning-color: #ffc107;
        }

        body.theme-dark-mode {
            --background-main: #1a1a2e;
            background-image: radial-gradient(circle at top left, #16213e, transparent 100px),
                              radial-gradient(circle at bottom right, #0f3460, transparent 150px) !important;
            --white: #e0e0e0;
            --text-light: #a0a0a0;
            --card-background: rgba(25, 25, 40, 0.7);
            --header-background: linear-gradient(135deg, rgba(10, 10, 20, .85), rgba(10, 10, 20, .75));
            --border-light: rgba(255, 255, 255, 0.08);
            --input-background: rgba(255, 255, 255, 0.08);
            --button-background-gradient: linear-gradient(90deg, #e94560, #ba2f49);
            --button-shadow: 0 4px 15px rgba(233, 69, 96, 0.4), 0 4px 15px rgba(186, 47, 73, 0.4);

            --background-color-primary: #121212;
            --background-color-secondary: #1e1e1e;
            --header-background-color: #2c2c2c;
            --footer-background-color: #2c2c2c;
            --content-background-color: #242424;
            --card-background-color: #2c2c2c;
            --text-color-primary: #ffffff;
            --text-color-secondary: #bbbbbb;
            --accent-color: #bb86fc;
            --accent-color-dark: #9a67ea;
            --border-color: #444444;
            --input-background-color: #383838;
            --button-background: #383838;
            --button-hover-background: #505050;
            --active-item-background: rgba(187, 134, 252, 0.2);
            --notification-badge-color: #cf6679;
            --delete-button-color: #f44336;
            --warning-color: #ffeb3b;
        }

        body.theme-glass-mode {
            --background-main: rgba(10, 10, 10, 0.75);
            background-image: url('https://source.unsplash.com/random/1920x1080?abstract,blur') !important;
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            backdrop-filter: blur(10px);
            --card-background: rgba(25, 25, 40, 0.7);
            --white: #e0e0e0;
            --text-light: rgba(255, 255, 255, 0.7);
            --input-background: rgba(255, 255, 255, 0.05);
            --border-light: rgba(255, 255, 255, 0.1);
            --button-background-gradient: linear-gradient(90deg, var(--pink), var(--blue));
            --button-shadow: 0 4px 15px var(--blue), 0 4px 15px var(--pink);
            box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.5);

            --background-color-primary: rgba(10, 10, 10, 0.75);
            --background-color-secondary: rgba(10, 10, 10, 0.6);
            --header-background-color: rgba(10, 10, 10, 0.85);
            --footer-background-color: rgba(10, 10, 10, 0.85);
            --content-background-color: rgba(10, 10, 10, 0.75);
            --card-background-color: rgba(25, 25, 40, 0.7);
            --text-color-primary: #e0e0e0;
            --text-color-secondary: #b0b0d0;
            --accent-color: #00d5ff;
            --accent-color-dark: #00aaff;
            --border-color: rgba(255, 255, 255, 0.1);
            --input-background-color: rgba(255, 255, 255, 0.05);
            --button-background: rgba(0, 213, 255, 0.15);
            --button-hover-background: rgba(0, 213, 255, 0.25);
            --active-item-background: rgba(0, 213, 255, 0.1);
        }

        body.theme-sunset-mode {
            background: linear-gradient(to top, #ff7e5f, #feb47b) !important;
            --background-main: linear-gradient(to top, #ff7e5f, #feb47b);
            --card-background: rgba(255, 255, 255, 0.15);
            --white: #fff;
            --text-light: rgba(255, 255, 255, 0.8);
            --input-background: rgba(255, 255, 255, 0.1);
            --border-light: rgba(255, 255, 255, 0.3);
            --button-background-gradient: linear-gradient(90deg, #fd746c, #ff9068);
            --button-shadow: 0 4px 15px rgba(253, 116, 108, 0.4), 0 4px 15px rgba(255, 144, 104, 0.4);

            --background-color-primary: #ff7e5f;
            --background-color-secondary: #feb47b;
            --header-background-color: rgba(255, 126, 95, 0.9);
            --footer-background-color: rgba(255, 126, 95, 0.9);
            --content-background-color: rgba(255, 126, 95, 0.85);
            --card-background-color: rgba(255, 255, 255, 0.15);
            --text-color-primary: #fff;
            --text-color-secondary: rgba(255, 255, 255, 0.8);
            --accent-color: #ffd700;
            --accent-color-dark: #ccaa00;
            --border-color: rgba(255, 255, 255, 0.3);
            --input-background-color: rgba(255, 255, 255, 0.1);
            --button-background: rgba(255, 255, 255, 0.2);
            --button-hover-background: rgba(255, 255, 255, 0.3);
            --active-item-background: rgba(255, 215, 0, 0.1);
        }

        /* Always show scrollbar to prevent layout shifts */
        html {
            overflow-y: scroll;
        }

        body {
            min-height: 100vh;
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden; /* Prevent horizontal scroll */
            padding-bottom: 20px; /* Space for content at bottom */
            background-color: var(--background-main);
            background-image: radial-gradient(circle at top left, var(--background-gradient-1), transparent 100px),
                              radial-gradient(circle at bottom right, var(--background-gradient-2), transparent 150px);
            color: var(--white);
            transition: background-color 0.5s ease, color 0.5s ease; /* Smooth theme transition */
        }

        /* Header Styling */
        header {
            background: var(--header-background);
            border-bottom: 1px solid var(--border-light);
            padding: 10px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 55px;
            z-index: 10;
            display: flex;
            justify-content: center;
        }

        header .header-content-wrapper {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            padding: 0 30px;
        }

        .logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: 800;
            background-clip: text;
            color: transparent;
            background-image: linear-gradient(90deg, var(--blue), var(--pink));
            letter-spacing: -0.03em;
            text-decoration: none;
        }

        /* Header Navigation */
        header nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            gap: 25px;
        }

        header nav ul li a {
            color: var(--white);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            padding: 5px 0;
            position: relative;
            transition: color var(--transition);
        }

        header nav ul li a::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 3px;
            background: var(--blue);
            border-radius: 2px;
            transition: width var(--transition);
        }

        header nav ul li a:hover {
            color: var(--blue);
        }

        header nav ul li a:hover::after {
            width: 100%;
        }

        /* Header Actions */
        .header-right-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-action-icon {
            font-size: 1.5rem;
            color: var(--text-light);
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .header-action-icon:hover {
            color: var(--white);
        }

        .notification-icon-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--notification-badge-color); /* Use pink for badges */
            color: var(--white);
            border-radius: 50%;
            padding: 3px 7px;
            font-size: 0.7rem;
            font-weight: 700;
            min-width: 20px;
            text-align: center;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            display: none; /* Hidden by default */
        }

        /* User Profile & Logout */
        .user-profile-pic-header {
            height: 40px;
            width: 40px;
            border-radius: 50%;
            overflow: hidden;
            position: relative;
            border: 2px solid var(--accent-color);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .user-profile-pic-header:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 213, 255, 0.5);
        }

        .user-profile-pic-header a {
            display: block;
            width: 100%;
            height: 100%;
            text-decoration: none;
            cursor: pointer;
        }

        .user-profile-pic-header img,
        .user-profile-pic-header i {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }
        
        .user-profile-pic-header i {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 25px;
            color: var(--text-light);
        }

        #logoutButton {
            background: var(--button-background-gradient);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.3s ease;
            opacity: 0.8;
        }

        #logoutButton:hover {
            transform: scale(1.1);
            box-shadow: var(--button-shadow);
            opacity: 1;
        }

        #logoutButton i {
            color: var(--white);
            font-size: 0.9rem;
        }
        
        /* Main Content Area */
        main {
            flex-grow: 1;
            padding: 40px 0;
            padding-top: 80px; /* Adjust for fixed header and some top margin */
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* Align content to top */
            text-align: center;
        }
        
        .content-wrapper {
            width: 100%;
            max-width: 1000px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 25px;
            align-items: center;
        }

        /* General Section Styling */
        .section-card {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px) saturate(180%);
            border-radius: var(--radius);
            box-shadow: 0 8px 25px rgba(0, 0, 0, .3);
            padding: 2.5rem;
            width: 95%;
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            text-align: center;
        }
        
        .section-card h1, .section-card h2 {
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
            background-clip: text;
            color: transparent;
            background-image: linear-gradient(90deg, var(--blue), var(--pink));
            margin-bottom: 1.5rem;
            text-align: center;
        }
        .section-card h1 { font-size: 2.8rem; }
        .section-card h2 { font-size: 2rem; margin-bottom: 1.2rem; }
        
        .section-card p, .section-card ul {
            text-align: left;
            line-height: 1.6;
            color: var(--text-color-secondary);
        }

        .section-card ul {
            list-style: none; /* Remove default list style for custom icon layout */
            padding: 0;
        }
        
        .section-card ul li {
            margin-bottom: 25px;
            padding: 25px;
            background: var(--card-background-color);
            border-radius: 15px;
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }

        .section-card ul li:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        .section-card .guideline-title {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 0;
            margin-bottom: 15px;
        }
        
        .section-card .guideline-title h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.4rem;
            font-weight: 600;
            background-clip: text;
            color: transparent;
            background-image: linear-gradient(90deg, var(--blue), var(--pink));
            margin: 0;
        }

        .guideline-title i {
            font-size: 1.5rem;
            background-clip: text;
            color: transparent;
            background-image: linear-gradient(90deg, var(--blue), var(--pink));
        }

        .report-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: var(--button-background-gradient);
            color: var(--white);
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: var(--button-shadow);
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }

        .report-button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 6px 20px var(--blue), 0 6px 20px var(--pink);
        }

        .contact-list {
            list-style: none;
            padding: 0;
            text-align: center;
            width: 100%;
        }

        .contact-list li {
            margin-bottom: 10px;
            font-size: 1.1rem;
            color: var(--text-color-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .contact-list li i {
            font-size: 1.3rem;
            background-clip: text;
            color: transparent;
            background-image: linear-gradient(90deg, var(--blue), var(--pink));
        }

        .contact-list a {
            color: var(--text-color-secondary);
            text-decoration: none;
            transition: color 0.2s ease;
        }
        .contact-list a:hover {
            color: var(--accent-color);
            text-decoration: underline;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 600px) {
            header .header-content-wrapper {
                padding: 0 20px;
            }
            .logo {
                font-size: 1.6rem;
            }
            header nav ul {
                gap: 15px;
            }
            header nav ul li a {
                font-size: 1.1rem;
            }
            .user-profile-pic-header {
                height: 35px;
                width: 35px;
            }
            .user-profile-pic-header i {
                font-size: 20px;
            }
            #logoutButton {
                width: 25px;
                height: 25px;
                font-size: 0.8rem;
                margin-left: 8px;
            }
            #logoutButton i {
                font-size: 0.8rem;
            }
            .section-card {
                padding: 1.5rem;
            }
            .section-card h1 {
                font-size: 2.2rem;
            }
            .section-card h2 {
                font-size: 1.7rem;
            }
            .section-card .guideline-title h3 {
                font-size: 1.2rem;
            }
            .guideline-title i {
                font-size: 1.3rem;
            }
            .contact-list li {
                font-size: 1rem;
            }
            .contact-list li i {
                font-size: 1.2rem;
            }
            body {
                padding-bottom: 20px;
            }
        }
        
    </style>
<style id="header-overflow-fix">/*header-overflow-fix*/header .header-content-wrapper{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:nowrap}header .user-profile-header{display:flex;align-items:center;gap:10px;flex:1 1 auto;min-width:0;justify-content:flex-end}#profileLink{display:inline-flex;align-items:center;column-gap:8px;row-gap:2px;flex-wrap:wrap;max-width:100%;min-width:0}#profileLink #headerDisplayName{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px;flex:0 1 auto}#headerProfilePic,#headerAvatarIcon{flex:0 0 auto}@media (max-width:600px){header .header-content-wrapper{gap:8px}#profileLink{column-gap:6px}}</style></head>
<body class="theme-dark-mode">

    <header>
        <div class="header-content-wrapper">
            <a href="/home.html" class="logo" style="display:flex;align-items:center;gap:10px"><img src="assets/security.png" alt="JCHAT Security" style="height:24px;width:auto" onerror="this.style.display='none'"><span>Nuvia</span></a>
            <nav>
                <ul></ul>
            </nav>
            <div class="header-right-actions">
                <a href="/Report.html" aria-label="Report an Issue" style="text-decoration: none; color: inherit;">
                    <i class="fas fa-flag header-action-icon" aria-hidden="true"></i>
                </a>
                <div class="notification-icon-wrapper">
                    <a href="/notifications.html" aria-label="Notifications">
                        <i class="fas fa-bell header-action-icon"></i>
                        <span class="notification-badge" id="notificationCount">0</span>
                    </a>
                </div>
                <div class="user-profile-pic-header">
                    <a href="/profile.html" id="profileLink">
                        <img id="headerProfilePic" src="" alt="User Profile Picture" style="display: none;">
                        <i id="headerAvatarIcon" class="fas fa-user-circle"></i>
                    </a>
                </div>
                <button id="logoutButton" aria-label="Logout" disabled>
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </header>

    <main>
        <div class="content-wrapper">
            <div class="section-card">
                <h1>JCHAT Community Guidelines</h1>
                <p>Welcome to JCHAT! Our mission is to create a positive, safe, and engaging community for everyone. To achieve this, we rely on every member to follow these simple but crucial guidelines. They are designed to ensure respect, trust, and a great experience for all. Please take a moment to read and understand them. Remember, violations can lead to content removal, account suspension, or even a permanent ban.</p>
                
                <ul class="guideline-list">
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-handshake"></i>
                            <h3>1. Be Respectful and Kind</h3>
                        </div>
                        <p>This is the golden rule of our community. Always treat others with respect and empathy, even when you disagree. We have a zero-tolerance policy for harassment, bullying, hate speech, and personal attacks. This includes any content that is abusive, threatening, or defamatory towards any individual or group based on their race, ethnicity, religion, gender, sexual orientation, disability, or age. Persistent negative commentary, public shaming, or intentionally targeting a user with insults will not be tolerated. Our goal is to foster a supportive environment, not a hostile one.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-eye-slash"></i>
                            <h3>2. No Inappropriate or Explicit Content</h3>
                        </div>
                        <p>JCHAT is a public platform, and we must keep it safe for all ages and backgrounds. Do not post or share any content that is sexually explicit, pornographic, or graphically violent. This includes nudity, suggestive content, gruesome imagery, or depictions of self-harm. This rule applies to all forms of communication, including text, images, videos, and links. Our filters are actively working to detect this kind of material, and our moderation team will take swift action against anyone who attempts to share it.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-user-lock"></i>
                            <h3>3. Respect Privacy and Confidentiality</h3>
                        </div>
                        <p>Protecting the privacy of our users is a top priority. You must never share another person's private or confidential information without their explicit, written permission. This is what we call "doxxing." Examples of private information include real names, home addresses, phone numbers, email addresses, private photos, or any other personally identifiable details. Doxxing is a serious offense that can endanger people, and it will result in an immediate and permanent ban from JCHAT. Additionally, do not share private conversations or screenshots from private chats without the consent of all parties involved.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-bullhorn"></i>
                            <h3>4. Stay on Topic and Avoid Spam</h3>
                        </div>
                        <p>We want conversations on JCHAT to be meaningful and easy to follow. To keep things organized, please post in the appropriate channels and avoid disruptive behavior. Spamming, which includes posting repetitive messages, irrelevant content, or using bots to flood a channel, is not allowed. We also consider excessive self-promotion, "link-baiting" (posting deceptive links to drive traffic), or mass-tagging users as a form of spam. The purpose of this rule is to maintain a high-quality, signal-to-noise ratio in our community.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-user-shield"></i>
                            <h3>5. Account Integrity and Authenticity</h3>
                        </div>
                        <p>Your JCHAT account should be a reflection of you. Do not impersonate other users, JCHAT staff, or any public figure. Creating profiles with fake credentials, using misleading usernames, or attempting to deceive others about who you are is a violation of our terms. We also forbid creating multiple accounts to evade a ban, manipulate discussions, or artificially inflate your presence on the platform. We are committed to a community built on trust and authenticity, and these deceptive practices undermine that trust.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-copyright"></i>
                            <h3>6. Intellectual Property and Copyright</h3>
                        </div>
                        <p>You must respect the creative and intellectual work of others. Do not post, share, or distribute copyrighted material without the express permission of the owner. This includes, but is not limited to, sharing unauthorized streams of movies or TV shows, distributing pirated music or software, or using copyrighted images without a license. By respecting copyright, you support creators and ensure the legal integrity of our platform. We will remove content that infringes on copyright and take action against repeat offenders.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-gavel"></i>
                            <h3>7. No Illegal Activities</h3>
                        </div>
                        <p>JCHAT is not a place for illegal activities. You may not use our platform to promote, facilitate, or discuss any act that is against the law. This includes, but is not limited to, the sale of illegal drugs, weapons, or stolen goods. We will cooperate with law enforcement authorities and will report any content or behavior that indicates a violation of local or international laws. If you see something that looks illegal, please report it immediately.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-child"></i>
                            <h3>8. Zero Tolerance for Child Exploitation</h3>
                        </div>
                        <p>We have an absolute, zero-tolerance policy for any form of child abuse or exploitation. Any user found to be involved in such activities, or any content that depicts, promotes, or facilitates harm to minors, will be reported to the appropriate authorities immediately and will be permanently banned from JCHAT without warning. Your vigilance is key here, and we urge you to report any suspicious activity related to this topic immediately and without hesitation.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-laptop-code"></i>
                            <h3>9. Technical Misuse is Forbidden</h3>
                        </div>
                        <p>Do not attempt to disrupt or exploit the JCHAT service. This includes using malicious software, launching denial-of-service (DoS) attacks, trying to hack user accounts, or exploiting any bugs or vulnerabilities for personal gain. Unauthorized use of bots or automated scripts to interfere with the platform's normal operation is also forbidden. This rule is in place to protect the security, stability, and integrity of our service for all users.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-balance-scale"></i>
                            <h3>10. Moderation and Appeals</h3>
                        </div>
                        <p>Our moderation team works hard to enforce these guidelines fairly and consistently. If you have been moderated and believe it was a mistake, you have the right to appeal the decision. However, you must do so through the official appeal process. Do not publicly debate or criticize moderation actions in channels, as this can lead to further disruption. Respecting moderation decisions is crucial for maintaining order and a healthy community environment.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-fist-raised"></i>
                            <h3>11. Avoid Creating Conflict</h3>
                        </div>
                        <p>While we encourage healthy debate and the sharing of diverse opinions, intentionally creating or escalating conflict is not allowed. Do not provoke others, bait them into arguments, or engage in behavior designed to cause drama and disruption. We expect our users to be a positive force in the community, helping to de-escalate tensions and promote a harmonious atmosphere rather than amplifying negativity.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-mask"></i>
                            <h3>12. No Deceptive Practices</h3>
                        </div>
                        <p>Fraud, scams, and phishing attempts have no place on JCHAT. Do not use our platform to mislead other users for personal gain, spread false information, or attempt to steal personal data. Examples include posting fake investment opportunities, sharing links to malicious websites, or pretending to be a representative from a legitimate organization. Be cautious and report any suspicious activity you encounter to help protect yourself and others.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-globe-americas"></i>
                            <h3>13. Respect Community Diversity</h3>
                        </div>
                        <p>JCHAT is a global community with users from every corner of the world. We celebrate this diversity and expect all members to do the same. Be mindful of cultural differences, respect varying perspectives, and avoid making assumptions. We will not tolerate any form of discrimination or intolerance based on someone's cultural background, beliefs, or identity. By being open-minded and respectful, you contribute to a richer and more welcoming environment for everyone.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-language"></i>
                            <h3>14. Use Appropriate Language</h3>
                        </div>
                        <p>While we understand that casual conversation can sometimes include strong language, please refrain from using excessive profanity and offensive language, especially in public channels. What might be acceptable in a private conversation with friends is often not appropriate in a public space. A good rule of thumb is to use language that is generally inoffensive and understandable to the widest possible audience, ensuring that our community remains welcoming and friendly.</p>
                    </li>
                    <li>
                        <div class="guideline-title">
                            <i class="fas fa-shield-alt"></i>
                            <h3>15. Keep Personal Information Safe</h3>
                        </div>
                        <p>Your security is your responsibility, and we encourage you to be proactive about it. Do not share your own personal information with strangers or in public channels. This includes passwords, phone numbers, addresses, and financial details. JCHAT staff will never ask for your password or other sensitive information via chat or direct message. Be vigilant, use strong and unique passwords, and be aware of phishing attempts. If you feel pressured to share information, please report it and block the user.</p>
                    </li>
                </ul>

                <h2 style="margin-top: 2rem;">Need to Report a Violation?</h2>
                <p>If you encounter content or behavior that violates these guidelines, please use our reporting feature. Your report is anonymous and helps us keep the community safe.</p>
                <a href="/Report.html" class="report-button">
                    <i class="fas fa-flag"></i>
                    <span>Report an Issue Now</span>
                </a>

                <h2 style="margin-top: 3rem;">Contact & Support</h2>
                <p>For any urgent issues, partnership inquiries, or support questions, please contact us at:</p>
                <ul class="contact-list">
                    <li><i class="fas fa-envelope"></i> <a href="mailto:jchatguide@gmail.com">jchatguide@gmail.com</a></li>
                    <li><i class="fas fa-envelope"></i> <a href="mailto:eletexjoeytex@gmail.com">eletexjoeytex@gmail.com</a></li>
                    <li><i class="fas fa-phone"></i> <a href="tel:+2348111609765">+2348111609765</a></li>
                    <li><i class="fas fa-phone"></i> <a href="tel:+2349013790707">+2349013790707</a></li>
                </ul>
            </div>
        </div>
    </main>

    <div id="messageBox"></div>

    <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut, signInWithCustomToken, signInAnonymously } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, collection, query, where, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        // --- Firebase & Canvas Environment Configuration ---
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {
            apiKey: "AIzaSyDz-8N0totzvMCvonF9pKj9RsoH3J8xL0w",
            authDomain: "jchat-1.firebaseapp.com",
            databaseURL: "https://jchat-1-default-rtdb.firebaseio.com",
            projectId: "jchat-1",
            storageBucket: "jchat-1.firebasestorage.app",
            messagingSenderId: "328479683167",
            appId: "1:328479683167:web:276c0b7e8ea44dd2d6a1ea",
            measurementId: "G-S6Z9GG0R9P"
        };
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // Cloudinary Configuration
        const cloudinaryConfig = {
            cloudName: "dxld01rcp",
            uploadPreset: "Storage_preset"
        };

        // Initialize Firebase services
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- DOM Elements ---
        const headerProfilePic = document.getElementById('headerProfilePic');
        const headerAvatarIcon = document.getElementById('headerAvatarIcon');
        const logoutButton = document.getElementById('logoutButton');
        const notificationCountElement = document.getElementById('notificationCount');
        const messageBox = document.getElementById('messageBox');
        const headerNavLinkProfile = document.getElementById('profileLink');

        // --- Global State ---
        let isAuthReady = false;
        let currentUser = null;

        // --- Tone.js Synths for Notification Sounds (reused) ---
        const successSynth = new Tone.Synth().toDestination();
        const errorSynth = new Tone.Synth().toDestination();
        const infoSynth = new Tone.Synth().toDestination();

        successSynth.oscillator.type = "sine";
        successSynth.envelope.attack = 0.01;
        successSynth.envelope.decay = 0.2;
        successSynth.envelope.sustain = 0.0;
        successSynth.envelope.release = 0.5;

        errorSynth.oscillator.type = "sawtooth";
        errorSynth.envelope.attack = 0.01;
        errorSynth.envelope.decay = 0.3;
        errorSynth.envelope.sustain = 0.0;
        errorSynth.envelope.release = 0.5;

        infoSynth.oscillator.type = "triangle";
        infoSynth.envelope.attack = 0.01;
        infoSynth.envelope.decay = 0.1;
        infoSynth.envelope.sustain = 0.0;
        infoSynth.envelope.release = 0.3;

        function playNotificationSound(type) {
            Tone.start();
            if (type === 'success') {
                successSynth.triggerAttackRelease("C5", "8n");
            } else if (type === 'error') {
                errorSynth.triggerAttackRelease("C3", "8n");
            } else if (type === 'info') {
                infoSynth.triggerAttackRelease("E4", "16n");
            }
        }

        // --- Utility Functions ---

        /**
         * Displays a temporary message box with a given message and type.
         * @param {string} message - The message to display.
         * @param {string} type - The type of message ('success', 'error', 'info', 'loading', 'warning').
         * @param {number} [durationMs=3000] - Duration in milliseconds for the message to display.
         * @param {boolean} [isPersistent=false] - If true, message stays until explicitly cleared or replaced.
         */
        function showMessageBox(message, type, durationMs = 3000, isPersistent = false) {
            if (messageBox.timeoutId) {
                clearTimeout(messageBox.timeoutId);
                messageBox.timeoutId = null;
            }

            messageBox.innerHTML = `<i id="messageBoxIcon"></i><span id="messageBoxText"></span>`;
            const messageBoxIcon = document.getElementById('messageBoxIcon');
            const messageBoxText = document.getElementById('messageBoxText');

            messageBoxText.textContent = message;
            messageBox.className = 'message-box show ' + type;

            if (messageBoxIcon) {
                messageBoxIcon.className = '';
                if (type === 'success') { messageBoxIcon.classList.add('fas', 'fa-check-circle'); playNotificationSound('success'); }
                else if (type === 'error') { messageBoxIcon.classList.add('fas', 'fa-times-circle'); playNotificationSound('error'); }
                else if (type === 'info') { messageBoxIcon.classList.add('fas', 'fa-info-circle'); playNotificationSound('info'); }
                else if (type === 'warning') { messageBoxIcon.classList.add('fas', 'fa-exclamation-triangle'); playNotificationSound('info'); }
                else if (type === 'loading') { messageBoxIcon.classList.add('fas', 'fa-spinner', 'fa-spin'); }
            }

            if (type === 'loading') {
                messageBox.classList.add('loading-pulse');
            } else {
                messageBox.classList.remove('loading-pulse');
            }

            messageBox.style.display = 'flex';
            messageBox.style.opacity = '1';

            if (!isPersistent) {
                messageBox.timeoutId = setTimeout(() => {
                    messageBox.style.opacity = '0';
                    messageBox.addEventListener('transitionend', function handler() {
                        messageBox.style.display = 'none';
                        messageBox.removeEventListener('transitionend', handler);
                        messageBox.classList.remove('loading-pulse');
                    }, { once: true });
                }, durationMs);
            }
        }

        /**
         * Toggles loading state for a button.
         * @param {HTMLElement} buttonElement - The button to toggle.
         * @param {boolean} isLoading - True to show loading, false to hide.
         */
        function toggleButtonLoading(buttonElement, isLoading) {
            if (!buttonElement) return;
            const loader = buttonElement.querySelector('.button-loader');
            const text = buttonElement.querySelector('.button-text');

            if (isLoading) {
                buttonElement.disabled = true;
                buttonElement.classList.add('loading');
                if (loader) loader.classList.add('active');
                if (text) text.style.display = 'none';
            } else {
                buttonElement.disabled = false;
                buttonElement.classList.remove('loading');
                if (loader) loader.classList.remove('active');
                if (text) text.style.display = 'block';
            }
        }

        /**
         * Constructs a Cloudinary URL for an image/video.
         * @param {string} urlOrPublicId - The full Cloudinary URL or the public ID of the image on Cloudinary.
         * @param {string} transformations - Optional Cloudinary transformations.
         * @returns {string|null} The full Cloudinary URL or null if urlOrPublicId is not provided.
         */
        function getCloudinaryImageUrl(urlOrPublicId, transformations = "w_auto,f_auto,q_auto") {
            if (!urlOrPublicId) return null;
            if (urlOrPublicId.startsWith('http://') || urlOrPublicId.startsWith('https://')) {
                return urlOrPublicId;
            }
            return `https://res.cloudinary.com/${cloudinaryConfig.cloudName}/image/upload/${transformations}/${urlOrPublicId}`;
        }

        /**
         * Displays the profile picture or a default icon.
         * @param {HTMLElement} imgElement - The <img> element to update.
         * @param {HTMLElement} iconElement - The <i> element to display if no image.
         * @param {string|null} profilePicId - The Cloudinary public ID or URL, or null.
         * @param {string} usernameInitial - Initial for placeholder.
         * @param {string} transformations - Cloudinary transformations.
         */
        function displayProfilePicture(imgElement, iconElement, profilePicId, usernameInitial, transformations) {
            if (imgElement) {
                if (profilePicId) {
                    const imageUrl = getCloudinaryImageUrl(profilePicId, transformations);
                    imgElement.src = imageUrl;
                    imgElement.style.display = 'block';
                    if (iconElement) iconElement.style.display = 'none';
                    imgElement.onerror = () => {
                        console.error(`Failed to load profile picture: ${profilePicId}. Using placeholder.`);
                        const bgColor = getComputedStyle(document.body).getPropertyValue('--card-background-color').trim();
                        const textColor = getComputedStyle(document.body).getPropertyValue('--text-color-primary').trim();
                        imgElement.src = `https://placehold.co/120x120/${bgColor.replace('#', '')}/${textColor.replace('#', '')}?text=${usernameInitial}`;
                        imgElement.style.display = 'block';
                        if (iconElement) iconElement.style.display = 'none';
                    };
                } else {
                    imgElement.src = '';
                    imgElement.style.display = 'none';
                    if (iconElement) iconElement.style.display = 'block';
                }
            }
        }

        /**
         * Fetches and displays the current user's profile data for the header.
         * This function runs on every page to ensure header is consistent.
         * Also updates the public profile summary.
         * @param {firebase.User} user - The authenticated Firebase user object.
         */
        async function fetchAndDisplayHeaderProfile(user) {
            try {
                const privateProfileDocRef = doc(db, "artifacts", appId, "users", user.uid, "profiles", "user_profile");
                const publicProfileDocRef = doc(db, "artifacts", appId, "public", "data", "users", user.uid);

                const privateDocSnap = await getDoc(privateProfileDocRef);
                let profileData = null;

                if (privateDocSnap.exists()) {
                    profileData = privateDocSnap.data();
                }

                // Update public profile summary (ensure consistency)
                const publicProfileSummary = {
                    username: profileData?.username || `User_${user.uid.substring(0, 8)}`,
                    profilePicId: profileData?.profilePicId || user.photoURL || null,
                    jCoins: profileData?.jCoins || 0,
                    level: profileData?.level || 1,
                    userId: user.uid,
                    email: profileData?.email || "",
                    totalPosts: profileData?.totalPosts || 0,
                    totalGasEarned: profileData?.totalGasEarned || 0,
                    banned: profileData?.banned || false
                };
                await setDoc(publicProfileDocRef, publicProfileSummary, { merge: true });

                // Update header UI
                const usernameInitial = (publicProfileSummary.username || "J").charAt(0).toUpperCase();
                displayProfilePicture(headerProfilePic, headerAvatarIcon, publicProfileSummary.profilePicId, usernameInitial, "w_70,h_70,c_fill,g_face,r_max");
                headerNavLinkProfile.href = `/profile.html?userId=${user.uid}`;

                logoutButton.disabled = false;
            } catch (error) {
                console.error("Error fetching or creating profile for header:", error);
                const usernameInitial = (user.displayName || "J").charAt(0).toUpperCase();
                displayProfilePicture(headerProfilePic, headerAvatarIcon, user.photoURL, usernameInitial, "w_70,h_70,c_fill,g_face,r_max");
                showMessageBox(`Error loading header profile: ${error.message}`, 'error');
                logoutButton.disabled = false;
            }
        }

        /**
         * Fetches and displays the notification count for the current user.
         * @param {string} userId - The UID of the current user.
         */
        async function fetchNotificationCount(userId) {
            try {
                const notificationsCollectionRef = collection(db, "artifacts", appId, "users", userId, "notifications");
                const q = query(notificationsCollectionRef, where("read", "==", false));
                onSnapshot(q, (querySnapshot) => {
                    const unreadCount = querySnapshot.size;
                    if (unreadCount > 0) {
                        notificationCountElement.textContent = unreadCount;
                        notificationCountElement.style.display = 'flex';
                    } else {
                        notificationCountElement.style.display = 'none';
                    }
                }, (error) => {
                    console.error("Error listening to notification count:", error);
                    notificationCountElement.style.display = 'none';
                });
            } catch (error) {
                console.error("Error setting up listener for notification count:", error);
            }
        }

        // --- Authentication State Listener ---
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                currentUser = user;
                isAuthReady = true;
                await fetchAndDisplayHeaderProfile(user);
                fetchNotificationCount(user.uid);
            } else {
                isAuthReady = false;
                logoutButton.disabled = true;
                headerProfilePic.style.display = 'none';
                headerAvatarIcon.style.display = 'block';
                // Fallback to anonymous sign-in for public pages
                try {
                    await signInAnonymously(auth);
                    showMessageBox("You are viewing as a guest.", 'info', 3000);
                } catch (error) {
                    console.error("Anonymous sign-in failed:", error);
                    showMessageBox("Error logging in as guest.", 'error');
                }
            }
        });

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            // Apply saved theme
            const savedTheme = localStorage.getItem('jchat-theme');
            const themes = ['theme-light-mode', 'theme-dark-mode', 'theme-glass-mode', 'theme-sunset-mode'];
            if (savedTheme && themes.includes(savedTheme)) {
                document.body.classList.remove(...themes);
                document.body.classList.add(savedTheme);
            } else {
                document.body.classList.add('theme-dark-mode'); // Default to dark mode
            }
        });

        window.addEventListener('storage', (event) => {
            if (event.key === 'jchat-theme') {
                const newTheme = event.newValue || 'theme-dark-mode';
                const themes = ['theme-light-mode', 'theme-dark-mode', 'theme-glass-mode', 'theme-sunset-mode'];
                if (themes.includes(newTheme)) {
                    document.body.classList.remove(...themes);
                    document.body.classList.add(newTheme);
                }
            }
        });

        logoutButton.addEventListener('click', async () => {
            if (!isAuthReady) return;
            toggleButtonLoading(logoutButton, true);
            try {
                await signOut(auth);
                showMessageBox("Logged out successfully! ", 'success');
                setTimeout(() => {
                    window.location.href = '/login.html';
                }, 1500);
            } catch (error) {
                console.error("Error logging out:", error);
                showMessageBox("Failed to log out. Please try again.", 'error');
                toggleButtonLoading(logoutButton, false);
            }
        });
    </script>
	
</body>
</html>
