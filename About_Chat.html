<!DOCTYPE html>
<html lang="en">
<head>
    <script src="auth/access-guard.js"></script>
    <!-- Last updated: 2025-08-21T18:19:29Z -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JCHAT - User Guide</title>

    <!-- Google Fonts: Poppins for headings, Inter for body text -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        /* ======================================= */
        /* === 1. Global / Reset Styles / Base === */
        /* ======================================= */
        *, *::before, *::after {
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        body {
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-color: var(--background-main);
            background-image: radial-gradient(circle at top left, var(--background-gradient-1), transparent 100px),
                              radial-gradient(circle at bottom right, var(--background-gradient-2), transparent 150px);
            color: var(--white);
            transition: background-color 0.5s ease, color 0.5s ease, background-image 0.5s ease, backdrop-filter 0.5s ease;
        }

        /* ================================ */
        /* === 2. CSS Variables (Themes) === */
        /* ================================ */
        :root {
            /* Global base variables - can be overridden by theme classes */
            --pink: #ff2e92;
            --blue: #00d5ff;
            --radius: 20px;
            --transition: .3s ease;

            /* Default Dark Mode Variables */
            --white: #e0e0e0;
            --text-light: #a0a0a0;
            --background-main: #1a1a2e;
            --background-gradient-1: #16213e;
            --background-gradient-2: #0f3460;
            --card-background: rgba(25, 25, 40, 0.7);
            --header-background: linear-gradient(135deg, rgba(10, 10, 20, .85), rgba(10, 10, 20, .75));
            --border-light: rgba(255, 255, 255, 0.08);
            --input-background: rgba(255, 255, 255, 0.08);
            --button-background: linear-gradient(90deg, #e94560, #ba2f49);
            --button-shadow: 0 4px 15px rgba(233, 69, 96, 0.4), 0 4px 15px rgba(186, 47, 73, 0.4);

            --background-color-primary: #121212;
            --background-color-secondary: #1e1e1e;
            --header-background-color: #2c2c2c;
            --footer-background-color: #2c2c2c;
            --content-background-color: #242424;
            --card-background-color: #2c2c2c;
            --text-color-primary: #ffffff;
            --text-color-secondary: #bbbbbb;
            --accent-color: #bb86fc; /* Bright purple-blue */
            --accent-color-dark: #9a67ea;
            --border-color: #444444;
            --input-background-color: #383838;
            --button-background-light: #383838; /* For non-gradient buttons */
            --button-hover-background: #505050;
            --active-item-background: rgba(187, 134, 252, 0.2);
            --notification-badge-color: #cf6679;
            --status-online: #28a745;
            --status-offline: #6c757d;
            --status-away: #ffc107;
            --delete-button-color: #f44336;
            --warning-color: #ffeb3b;
        }

        /* Light Mode */
        body.theme-light-mode {
            --background-main: #f0f2f5;
            --background-gradient-1: #e0e2e5;
            --background-gradient-2: #d0d2d5;
            --white: #333;
            --text-light: #666;
            --card-background: rgba(255, 255, 255, 0.95);
            --header-background: rgba(255, 255, 255, 0.98);
            --border-light: rgba(0, 0, 0, 0.1);
            --input-background: rgba(0, 0, 0, 0.05);
            --button-background: linear-gradient(90deg, #6dd5ed, #2193b0);
            --button-shadow: 0 4px 15px rgba(109, 213, 237, 0.4), 0 4px 15px rgba(33, 147, 176, 0.4);

            --background-color-primary: #f0f2f5;
            --background-color-secondary: #e0e2e5;
            --header-background-color: #ffffff;
            --footer-background-color: #ffffff;
            --content-background-color: #f7f9fb;
            --card-background-color: #ffffff;
            --text-color-primary: #333333;
            --text-color-secondary: #666666;
            --accent-color: #007bff;
            --accent-color-dark: #0056b3;
            --border-color: #e0e0e0;
            --input-background-color: #f0f0f0;
            --button-background-light: #e9ecef;
            --button-hover-background: #dee2e6;
            --active-item-background: rgba(0, 123, 255, 0.1);
            --notification-badge-color: #dc3545;
            --status-online: #28a745;
            --status-offline: #6c757d;
            --status-away: #ffc107;
            --delete-button-color: #dc3545;
            --warning-color: #ffc107;
        }

        /* Glass Mode */
        body.theme-glass-mode {
            --background-main: rgba(10, 10, 10, 0.75);
            background-image: url('https://source.unsplash.com/random/1920x1080?abstract,blur') !important;
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            backdrop-filter: blur(10px);
            --card-background: rgba(25, 25, 40, 0.7);
            --white: #e0e0e0;
            --text-light: rgba(255, 255, 255, 0.7);
            --input-background: rgba(255, 255, 255, 0.05);
            --border-light: rgba(255, 255, 255, 0.1);
            --button-background: linear-gradient(90deg, var(--pink), var(--blue));
            --button-shadow: 0 4px 15px var(--blue), 0 4px 15px var(--pink);
            box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.5);

            --background-color-primary: rgba(10, 10, 10, 0.75);
            --background-color-secondary: rgba(10, 10, 10, 0.6);
            --header-background-color: rgba(10, 10, 10, 0.85);
            --footer-background-color: rgba(10, 10, 10, 0.85);
            --content-background-color: rgba(10, 10, 10, 0.75);
            --card-background-color: rgba(25, 25, 40, 0.7);
            --text-color-primary: #e0e0e0;
            --text-color-secondary: #b0b0d0;
            --accent-color: #00d5ff;
            --accent-color-dark: #00aaff;
            --border-color: rgba(255, 255, 255, 0.1);
            --input-background-color: rgba(255, 255, 255, 0.05);
            --button-background-light: rgba(0, 213, 255, 0.15); /* Glassy button */
            --button-hover-background: rgba(0, 213, 255, 0.25);
            --active-item-background: rgba(0, 213, 255, 0.1);
        }

        /* Sunset Theme */
        body.theme-sunset-mode {
            background: linear-gradient(to top, #ff7e5f, #feb47b) !important;
            --background-main: linear-gradient(to top, #ff7e5f, #feb47b);
            --card-background: rgba(255, 255, 255, 0.15);
            --white: #fff;
            --text-light: rgba(255, 255, 255, 0.8);
            --input-background: rgba(255, 255, 255, 0.1);
            --border-light: rgba(255, 255, 255, 0.3);
            --button-background: linear-gradient(90deg, #fd746c, #ff9068);
            --button-shadow: 0 4px 15px rgba(253, 116, 108, 0.4), 0 44px 15px rgba(255, 144, 104, 0.4);

            --background-color-primary: #ff7e5f;
            --background-color-secondary: #feb47b;
            --header-background-color: rgba(255, 126, 95, 0.9);
            --footer-background-color: rgba(255, 126, 95, 0.9);
            --content-background-color: rgba(255, 126, 95, 0.85);
            --card-background-color: rgba(255, 255, 255, 0.15);
            --text-color-primary: #fff;
            --text-color-secondary: rgba(255, 255, 255, 0.8);
            --accent-color: #ffd700;
            --accent-color-dark: #ccaa00;
            --border-color: rgba(255, 255, 255, 0.3);
            --input-background-color: rgba(255, 255, 255, 0.1);
            --button-background-light: rgba(255, 255, 255, 0.2);
            --button-hover-background: rgba(255, 255, 255, 0.3);
            --active-item-background: rgba(255, 215, 0, 0.1);
        }

        /* ============================ */
        /* === 3. Layout Structure === */
        /* ============================ */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: var(--header-background);
            border-bottom: 1px solid var(--border-light);
            flex-shrink: 0;
            gap: 15px;
        }

        .header .logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: 800;
            background-clip: text;
            color: transparent;
            background-image: linear-gradient(90deg, var(--blue), var(--pink));
            letter-spacing: -0.03em;
            text-decoration: none;
        }

        .header .icon-button {
            background: none;
            border: none;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            transition: transform 0.2s ease, opacity 0.3s ease;
            opacity: 0.8;
            color: var(--white); /* Default icon color */
            margin-left: auto; /* Push to right */
        }

        .header .icon-button:hover {
            transform: scale(1.1);
            opacity: 1;
        }

        .header .icon-button i {
            background-image: linear-gradient(90deg, var(--blue), var(--pink));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent; /* Fallback for no webkit support */
        }

        .content-wrapper {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            max-width: 900px;
            margin: 20px auto;
            background: var(--card-background);
            border-radius: var(--radius);
            box-shadow: 0 8px 25px rgba(0, 0, 0, .3);
            border: 1px solid var(--border-light);
        }

        .content-wrapper h1, .content-wrapper h2, .content-wrapper h3 {
            font-family: 'Poppins', sans-serif;
            color: var(--white);
            margin-top: 25px;
            margin-bottom: 15px;
            text-align: center;
        }

        .content-wrapper h1 { font-size: 2.5rem; }
        .content-wrapper h2 { font-size: 2rem; border-bottom: 1px solid var(--border-light); padding-bottom: 10px; }
        .content-wrapper h3 { font-size: 1.5rem; color: var(--accent-color); }

        .content-wrapper p, .content-wrapper ul, .content-wrapper ol {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-light);
            margin-bottom: 15px;
        }

        .content-wrapper ul, .content-wrapper ol {
            padding-left: 25px;
        }

        .content-wrapper ul li, .content-wrapper ol li {
            margin-bottom: 8px;
        }

        .feature-section {
            margin-bottom: 30px;
            padding: 15px;
            background: rgba(0,0,0,0.1);
            border-radius: 15px;
            border: 1px solid var(--border-light);
        }

        .feature-section h3 {
            margin-top: 0;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--accent-color);
        }
        .feature-section h3 i {
            font-size: 1.3em;
            background-image: linear-gradient(90deg, var(--blue), var(--pink));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: transparent;
        }

        .feature-section p {
            margin-bottom: 10px;
        }

        .feature-section ul {
            list-style: disc;
            padding-left: 20px;
        }

        .feature-section ol {
            list-style: decimal;
            padding-left: 20px;
        }

        .feature-section code {
            font-family: 'monospace', monospace;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 2px 4px;
            border-radius: 4px;
            font-size: 0.9em;
            color: var(--white);
        }

        .footer {
            padding: 20px;
            text-align: center;
            color: var(--text-light);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-light);
            background: var(--header-background);
            margin-top: auto; /* Push to bottom */
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .content-wrapper {
                margin: 10px;
                padding: 15px;
            }
            .content-wrapper h1 { font-size: 2rem; }
            .content-wrapper h2 { font-size: 1.6rem; }
            .content-wrapper h3 { font-size: 1.3rem; }
        }
    </style>
<style id="header-overflow-fix">/*header-overflow-fix*/header .header-content-wrapper{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:nowrap}header .user-profile-header{display:flex;align-items:center;gap:10px;flex:1 1 auto;min-width:0;justify-content:flex-end}#profileLink{display:inline-flex;align-items:center;column-gap:8px;row-gap:2px;flex-wrap:wrap;max-width:100%;min-width:0}#profileLink #headerDisplayName{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px;flex:0 1 auto}#headerProfilePic,#headerAvatarIcon{flex:0 0 auto}@media (max-width:600px){header .header-content-wrapper{gap:8px}#profileLink{column-gap:6px}}</style></head>
<body class="theme-dark-mode">

    <header class="header">
        <a href="/home.html" class="logo" aria-label="JChat Home">JCHAT</a>
        <button id="backToHomeBtn" class="icon-button" aria-label="Back to Home">
            <i class="fas fa-home"></i>
        </button>
        <button id="themeToggleBtn" class="icon-button" aria-label="Toggle Theme">
            <i class="fas fa-palette"></i>
        </button>
    </header>

    <main class="content-wrapper">
        <h1>JCHAT User Guide</h1>
        <p>Welcome to the JCHAT User Guide! This page will help you understand how to use all the features of JCHAT, from basic messaging to advanced functionalities unlocked by your user level.</p>

        <div class="feature-section">
            <h3><i class="fas fa-user-circle"></i> Getting Started</h3>
            <p>Before you dive into chatting, here's how to get set up:</p>
            <ul>
                <li><strong>Login/Register:</strong> If you're new, register for an account. If you already have one, simply log in.</li>
                <li><strong>Profile Setup:</strong> After logging in, you can update your profile information, including your username, profile picture, and more.</li>
                <li><strong>Levels:</strong> JCHAT features are tied to levels. The more you interact and use the app, the more XP you earn, helping you level up and unlock new capabilities!</li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><i class="fas fa-comments"></i> Navigating the Chat Interface</h3>
            <p>The chat page is designed for intuitive communication:</p>
            <ul>
                <li><strong>Sidebar:</strong> On the left, you'll find your list of recent chats. Click on any chat to open the conversation.</li>
                <li><strong>Chat Header:</strong> At the top of the main chat area, you'll see the recipient's name, their online status, and quick action buttons for calls and other features.</li>
                <li><strong>Messages Display:</strong> This is where your conversation history appears. Messages are grouped by date.</li>
                <li><strong>Input Area:</strong> At the bottom, you have the message input field and buttons for sending messages and attaching media.</li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><i class="fas fa-paper-plane"></i> Sending Messages</h3>
            <p>JCHAT supports various message types:</p>
            <ul>
                <li><strong>Text Messages:</strong> Type your message in the input box and click the <i class="fas fa-paper-plane"></i> (Send) button.
                    You can use basic Markdown for formatting:
                    <ul>
                        <li><code>**bold text**</code> for <strong>bold text</strong></li>
                        <li><code>*italic text*</code> for <em>italic text</em></li>
                        <li><code>`inline code`</code> for <code>inline code</code></li>
                    </ul>
                </li>
                <li><strong>Media Sharing:</strong> Click the <i class="fas fa-paperclip"></i> (Attach Media) button to share images or audio files. This feature is available to all users.</li>
                <li><strong>Voice Notes (Level 1+):</strong> Click the <i class="fas fa-microphone"></i> (Voice Note) button to record and send short audio messages. Click again to stop.</li>
                <li><strong>Replying to Messages:</strong> Long-press or right-click on a message to bring up the context menu, then select "Reply". A preview will appear above your input field.</li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><i class="fas fa-tools"></i> Managing Messages (Level 3+)</h3>
            <p>Once you reach Level 3, you gain more control over your messages:</p>
            <ul>
                <li><strong>Edit Message:</strong> Long-press or right-click on *your own* text message and select "Edit". The message content will load into your input field for modification.</li>
                <li><strong>Delete Message:</strong> Long-press or right-click on *your own* message and select "Delete". You will be asked for confirmation before the message is removed for all participants.</li>
                <li><strong>Star Message (All Levels):</strong> Long-press or right-click on any message and select "Star" to mark it as important. You can unstar it the same way.</li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><i class="fas fa-phone"></i> Voice and Video Calls</h3>
            <ul>
                <li><strong>Voice Calls (Level 3+):</strong> Click the <i class="fas fa-phone"></i> button in the chat header to initiate an audio call with your contact.</li>
                <li><strong>Video Calls (Level 5+):</strong> Click the <i class="fas fa-video"></i> button for a face-to-face conversation.</li>
                <li>During a call, you can mute your microphone <i class="fas fa-microphone"></i> / <i class="fas fa-microphone-slash"></i> or turn off your video <i class="fas fa-video"></i> / <i class="fas fa-video-slash"></i>. Click the <i class="fas fa-phone-slash"></i> button to end the call.</li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><i class="fas fa-star"></i> Level-Based Features Overview</h3>
            <p>JCHAT rewards your engagement! The more you use the app, the more XP you earn, leading to higher levels and unlocked features:</p>
            <ul>
                <li><strong>Level 1+:</strong> Voice Notes</li>
                <li><strong>Level 3+:</strong> Voice Calls, Edit Messages, Delete Messages</li>
                <li><strong>Level 4+:</strong> Customize Chat Appearance</li>
                <li><strong>Level 5+:</strong> Video Calls</li>
                <li><strong>Level 6+:</strong> Create Polls</li>
                <li><strong>Level 7+:</strong> Advanced Search Filters</li>
                <li><strong>Level 10+:</strong> Admin Panel Access (for designated administrators)</li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><i class="fas fa-palette"></i> Themes</h3>
            <p>Personalize your JCHAT experience by changing the theme:</p>
            <ul>
                <li>Click the <i class="fas fa-palette"></i> (Theme Toggle) button in the sidebar header to cycle through available themes (Dark, Light, Glass, Sunset).</li>
                <li>Your chosen theme will be saved and applied across JCHAT pages.</li>
            </ul>
        </div>

        <div class="feature-section">
            <h3><i class="fas fa-question-circle"></i> Troubleshooting & Support</h3>
            <ul>
                <li><strong>Permissions:</strong> If features like voice notes or calls aren't working, ensure you've granted microphone and camera permissions to JCHAT in your browser settings.</li>
                <li><strong>Network Issues:</strong> For call quality issues, check your internet connection.</li>
                <li><strong>Feedback:</strong> If you encounter any bugs or have suggestions, please reach out to our support team!</li>
            </ul>
        </div>

        <p>Thank you for using JCHAT! We hope you enjoy connecting with your friends and family.</p>
    </main>

    <footer class="footer">
        <p>&copy; 2025 JCHAT. All rights reserved.</p>
    </footer>

    <script>
        // Theme toggling logic (reused from other JCHAT pages)
        const THEMES = ['theme-dark-mode', 'theme-light-mode', 'theme-glass-mode', 'theme-sunset-mode'];
        let currentThemeIndex = 0;

        document.addEventListener('DOMContentLoaded', () => {
            // Load saved theme
            const savedTheme = localStorage.getItem('jchat-theme');
            if (savedTheme && THEMES.includes(savedTheme)) {
                document.body.classList.remove(...THEMES);
                document.body.classList.add(savedTheme);
                currentThemeIndex = THEMES.indexOf(savedTheme);
            } else {
                // Default to dark mode if no theme saved or invalid
                document.body.classList.remove(...THEMES);
                document.body.classList.add('theme-dark-mode');
                currentThemeIndex = THEMES.indexOf('theme-dark-mode');
            }

            // Back to Home button listener
            const backToHomeBtn = document.getElementById('backToHomeBtn');
            if (backToHomeBtn) {
                backToHomeBtn.addEventListener('click', () => {
                    window.location.href = '/home.html'; // Navigate back to home page
                });
            }

            // Theme Toggle Listener
            const themeToggleBtn = document.getElementById('themeToggleBtn');
            if (themeToggleBtn) {
                themeToggleBtn.addEventListener('click', () => {
                    document.body.classList.remove(...THEMES);
                    currentThemeIndex = (currentThemeIndex + 1) % THEMES.length;
                    const newTheme = THEMES[currentThemeIndex];
                    document.body.classList.add(newTheme);
                    localStorage.setItem('jchat-theme', newTheme);
                });
            }
        });

        // Listen for theme changes from other tabs/windows
        window.addEventListener('storage', (event) => {
            if (event.key === 'jchat-theme') {
                const newTheme = event.newValue || 'theme-dark-mode';
                if (THEMES.includes(newTheme)) {
                    document.body.classList.remove(...THEMES);
                    document.body.classList.add(newTheme);
                }
            }
        });
    </script>
	
</body>
</html>
